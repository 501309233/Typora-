# 锁的内存语义

* 锁的释放与获取所建立的happens-before关系

## 锁的释放和获取的内存语义

锁除了让临界区互斥执行外，还可以让释放锁的线程向获取同一个锁的线程发送消息

# volatile的内存语义

Volatile读写所建立的happens-before关系

* volatile的读和写类似于锁的获取和释放

Volatile读写的内存语义

* 当写一个volatile变量时，Java内存模型会把线程对应的本地内存中的共享变量值刷新到住内存中
* 当读一个volatile变量时，Java内存模型会把当前线程对应的本地内存中的共享变量置为无效，然后从主内存中读取共享变量





